# OpenSSF Scorecard for {{ cookiecutter.project_name }}
# Security posture assessment and supply chain security validation.
#
# This is a thin caller to the org-level reusable workflow.
#
# Dashboard: https://securityscorecards.dev/viewer/?uri=github.com/{{ cookiecutter.github_org_or_user }}/{{ cookiecutter.project_slug }}
# Documentation: https://github.com/ossf/scorecard
{%- if cookiecutter.include_github_actions == "yes" %}
name: OpenSSF Scorecard

on:
  branch_protection_rule:
  schedule:
    # Weekly on Tuesdays at 21:21 UTC
    - cron: '21 21 * * 2'
  push:
    branches:
      - main
      - master
  workflow_dispatch:

permissions:
  contents: read
  security-events: write
  id-token: write
  actions: read

jobs:
  scorecard:
    name: Scorecard Analysis
    uses: {{ cookiecutter.github_org_or_user }}/.github/.github/workflows/python-scorecard.yml@main
    with:
      publish-results: true
      upload-sarif: true
      artifact-retention-days: 5
{%- else %}
# GitHub Actions disabled for this project
# Enable include_github_actions to use OpenSSF Scorecard
{%- endif %}
